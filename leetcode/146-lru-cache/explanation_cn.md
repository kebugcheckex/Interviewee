# 146. LRU Cache

## 解析

Cache宏观上就是一个Key-Value结构，最简单的cache只需要用常规的Map结构存储即可。实际工程中，cache一般有容量限制，装满以后再存入数据就需要将已有的一部分数据清除掉，腾出空间。选择什么数据清除的方法叫做eviction policy. 这道题设计的LRU cache的eviction policy就是清除最近没有用过的条目。

首先要知道，一个条目被用到有两种情况，一种是被get, 另一种是put的时候对于已有的key更新它的value.

我们需要一个机制去记录哪些条目最近被用过。一个直观的想法是，我们把每个条目最近一次被用到的时间和条目的value一起存放，每次需要清理数据的时候，找出时间最久远的那个清除。

不过实际上我们并不需要记录所有条目的使用时间，因为我们在清理数据的时候只需要知道哪个条目最久没有被用到过，并不在乎其他条目被用到的时间。所以我们可以用一个线性的数据结构来存储使用时间，每当一个条目被用到的时候，我们把它移动到最前面。那么排在最后面的哪个条目就是最久没有被用到的。

由于需要频繁地增减和移动数据，用链表来实现上述线性结构比较高效。各个编程语言里的实现方法各不相同。